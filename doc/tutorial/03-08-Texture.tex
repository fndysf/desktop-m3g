\subsection{テクスチャー}

テクスチャーはTexuter2Dクラスで管理します。
ただし画像そのものはImage2Dクラスが扱います。
1Dテクスチャーおよび3DテクスチャーはM3Gではサポートしていません。
Texuter2DクラスのコンストラクタでImage2Dクラスのポインターを受け取ってインスタンス化します。
テクスチャー番号を指定してAppearanceクラスにセットします。
マルチテクスチャーの枚数の上限は実装依存です。
（クエリーの方法も書く）
テクスチャー画像にはjpegとpngが使用できます。
現在のDesktop-M3Gの実装ではpngのみサポートしています。

\begin{verbatim}
Image2D* img = new Image2D (IMAGE::RGBA, image.png);
Texture2D* tex = new Texture2D (img);
app->setTexutre(0, tex);
\end{verbatim}


\begin{verbatim}
void 	setImage (Image2D *image)
\end{verbatim}

\begin{verbatim}
Image2D * 	getImage () const
\end{verbatim}

\subsubsection{テクスチャーフィルター}

setFiltering()メソッドでテクスチャーフィルターの選択を行います。
M3Gではミップマップは（GPUが対応していれば）常に有効です。

\begin{verbatim}
void 	setFiltering (int level_filter, int image_filter)
\end{verbatim}

引数のimage\_filterは画像内のフィルターをFILTER\_NEAREST, FILTER\_LINEARの中から選択します。
FILTER＿NEARESTは最近傍画素を、FILTER\_LINEARは周辺4画素を線形補間します。
引数のlevel\_filterはミップマップ階層間のフィルターを、FILTER\_BASE, FILTER\_NEAREST, FILTER\_LINEARの中から選択します。
FILTER\_BASEは常にミップマップレベル0の画像を使用します。
つまりミップマップ処理を行いません。

現在のテクスチャーフィルターはgetImageFilter()メソッドとgetLevelFilter()メソッドを使って取得します。

\begin{verbatim}
int 	getImageFilter () const
int 	getLevelFilter () const
\end{verbatim}

\subsubsection{繰り返しモード}

setWrapping()メソッドでテクスチャーの範囲外アクセスの繰り返しモードを指定します。

\begin{verbatim}
void 	setWrapping (int wrap_s, int wrap_t)
\end{verbatim}

横(S)と縦(T)は個別に指定でき、WRAP\_CLAMP, WRAP\_REPEATから選択します。
WRAP\_CLAMPは最外周ピクセルにクランプされます。WRAP\_REPATは
画像がタイル状に繰り返されます。

現在の繰り返しモードはgetWrappingS()メソッドとgetWrappingT()メソッドで取得できます。

\begin{verbatim}
int 	getWrappingS () const
int 	getWrappingT () const
\end{verbatim}

\subsubsection{ブレンディングモード}

setBlending()メソッドはテクスチャーカラーのブレンドの方法の制御方法を設定します。

\begin{verbatim}
void 	setBlending (int func)
\end{verbatim}

引数のfuncにはFUNC\_ADD, FUNC\_BLEND, FUNC\_DECAL, FUNC\_REPLACEの中から1つを選択します。

\begin{tabular}{ll}
  FUNC\_ADD     & あとで書く \\
  FUNC\_BLEND   & あとで書く \\
  FUNC\_DECAL   & あとで書く \\
  FUNC\_REPLACE & あとで書く
\end{tabular}

現在のブレンディング方法はgetBlending()メソッドで取得します。

\begin{verbatim}
int 	getBlending () const
\end{verbatim}

\subsubsection{ブレンドカラー}

setBlendColor()メソッドはブレンディングモードFUNC\_BLENDで使用するブレンドカラーを設定します。
（注意：実装し忘れた！）

\begin{verbatim}
void 	setBlendColor (int rgb)
\end{verbatim}

現在のブレンドカラーはgetBlendColor()メソッドで取得できます。

\begin{verbatim}
int 	getBlendColor () const
\end{verbatim}

