\subsection{ポリゴンモード}

ポリゴンに関する種々の設定はPolygonModeクラスで行います。
設定できる項目はOpenGLとほとんど同じワインディング、カリング、シェーディング他です。
OpenGLにあるポリゴンの輪郭線描画モードはありません。
ポリゴンは必ず塗りつぶします。

\begin{verbatim}
PolygonMode* pmode = new PolygonMode;
app->setPolygonMode (pmode);
\end{verbatim}

\subsubsection{ワインディング}
ポリゴンの表面の判定基準をsetWinding()メソッドで行います。
ポリゴンの表裏はカリング処理で使用されます。

\begin{verbatim}
void 	setWinding (int mode)
\end{verbatim}

modeにはWINDING\_CCW, WINDING\_CWのうちから１つを選択します。
それぞれ順に反時計回り、時計回りを''ポリゴンの表''と定義します。
デフォルトはWINDING\_CCWです。

現在のワインディングモードはgetWinding()メソッドで取得できます。

\begin{verbatim}
int 	getWinding () const
\end{verbatim}

\subsubsection{カリング}

カリングの設定をsetCulling()メソッドで行います。

\begin{verbatim}
void 	setCulling (int mode)
\end{verbatim}

modeにはCULL\_BACK, CULL\_FRONT, CULL\_NONEのうちから１つを指定します。
それぞれ順に、背面カリング、前面カリング、カリング無しです。
前面と背面の判定はワインディングの設定に依存します。
デフォルトはCULLING\_BACKです。

現在のカリングモードはgetCulling()メソッドで取得できます。

\begin{verbatim}
int 	getCulling () const
\end{verbatim}


\subsubsection{両面ポリゴン}

setTwoSidedLightingEnable()メソッドは
シェーディング計算を表面と裏面の両方で行うか表面のみで行うかを制御します。

\begin{verbatim}
void 	setTwoSidedLightingEnable (bool enable)
\end{verbatim}

典型的には背面カリングが有効なとき裏を向いたポリゴンは破棄されるので、
シェーディングを行う必要はありません。
デフォルトはenable=falseで、表面のみのシェーディングされます。

現在の両面ライティングの設定はisTwoSidedLightingEnabled()メソッドで取得します。

\begin{verbatim}
bool 	isTwoSidedLightingEnabled () const 
\end{verbatim}


\subsubsection{シェーディング}
フラットシェーディングとスムースシェーディングの選択をsetShading()メソッドで行います。

\begin{verbatim}
void 	setShading (int mode)
\end{verbatim}

modeにはSHADE\_FLATまたはSHADE\_SMOOTHを指定します。
SHADE\_FLATはフラットシェーディング、SHDE\_SMMOTHはスムースシェーディングを行います。
デフォルトはSHADE\_SMOOTHです。

現在のシェーディングモードはgetShading()メソッドで取得できます。

\begin{verbatim}
int 	getShading () const
\end{verbatim}


\subsubsection{ローカルカメラライティング}

setLocalCameraLightingEnable()メソッドで
鏡面反射の計算で視点位置をカメラの位置（ローカル）で行うか、無限遠方で行うかを選択します。
カメラ位置を無視して無限遠方で計算した方が処理は軽くなります。
Desktop-M3Gのデフォルトはenable=trueです。

（注意）オリジナルのM3Gではデフォルトはenable=falseですが、
現在デスクトップ用に売られているGPUではローカルカメラライティングは問題になりません。

ローカルカメラライティングの設定は''ヒント''です。
GPUによってはこれを無視する事があります。

\begin{verbatim}
void 	setLocalCameraLightingEnable (bool enable)
\end{verbatim}

現在のローカルカメラライティングの設定はisLocalCameraLightingEnabled()メソッデ
注得できます。

\begin{verbatim}
bool 	isLocalCameraLightingEnabled () const
\end{verbatim}

\subsubsection{透視変換補正}

setPerspectiveCorrectionEnable()メソッドで色とテクスチャーの透視変換補正の有無を切り替えます。
Desktop-M3Gのデフォルトはenable=trueです。

（注意）オリジナルのM3Gではデフォルトはenable=falseですが、
現在デスクトップ用に売られているGPUでは透視変換補正は問題になりません。

透視変換補正の設定は''ヒント''です。
GPUによってはこれを無視する事があります。

\begin{verbatim}
    void setPerspectiveCorrectionEnable (bool enable);
\end{verbatim}

現在の透視変換補正の設定はisPerspectiveCorrectionEnabled()メソッドで取得できます。

\begin{verbatim}
bool 	isPerspectiveCorrectionEnabled () const
\end{verbatim}



