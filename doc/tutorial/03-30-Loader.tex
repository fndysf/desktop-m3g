\subsection{ローダー}

Desktop-M3GではオリジナルのM3Gで定義されたファイルデータをそのまま利用できます。
主要な商用3Dグラフィクスソフトは全てM3G形式で出力できるエクスポーターが存在します。
フリーのものではBlenderが可能です。
Loaderクラスはインスタンス化できません。

\subsubsection{ロード}
M3Gファイルのロードにはstatic関数のload()メソッドを使います。

\begin{verbatim}
std::vector<Objecct*> scene = Loader:: loade ("scene.m3g");
\end{verbatim}

引数にはローカルにあるM3Gファイルを指定します。
メモリ上に展開したM3Gファイルからロードするメソッドは現在未実装です。
戻り値はObjectのポインターへのstd::vector配列です。
Objectの順番は規定されていません。

このObjectの配列から何らかの方法で''ルート''オブジェクトを見つけます。
ルートとなるオブジェクトはM3Gファイルがシーン全体を保持している場合は
Worldクラスであり、１体のモデルデータの場合はMeshクラス（もしくはその派生クラス）です。
Objectの配列からルートオブジェクトを見つけるにはいくつかの方法があります。
下記はWorldクラスを見つける例です。Meshクラスも同じです。

\begin{itemize}
\item 見つかるまで順番にWorldクラスにdynamic\_castする
\item Worldクラスに付けたIDを見つける
\end{itemize}

IDを付ける方法は、3Dグラフィックソフト側でWorldクラスに固有のIDが付加されている事が条件です。







